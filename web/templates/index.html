<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CUDA Image Processing - GPU –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="header">
            <h1>CUDA Image Processing</h1>
            <p class="subtitle">–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ GPU —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º NVIDIA CUDA</p>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content">
            <!-- –°–µ–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ -->
            <section class="upload-section">
                <div class="upload-box" id="uploadBox">
                    <div class="upload-icon">üìÅ</div>
                    <h2>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</h2>
                    <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
                    <p class="file-info">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: PNG, JPG, BMP</p>
                    <p class="file-info">–ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞: 16 –ú–ë | –ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞: 3 –ì–ë</p>
                    <p class="file-info">–ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏</p>
                    <input type="file" id="fileInput" accept="image/png,image/jpeg,image/jpg,image/bmp" multiple hidden>
                    <button class="btn btn-primary" onclick="document.getElementById('fileInput').click()">
                        –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã
                    </button>
                </div>

                <!-- –°–ø–∏—Å–æ–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ -->
                <div class="files-list" id="filesList" style="display: none;">
                    <h3>–í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (<span id="filesCount">0</span>)</h3>
                    <div class="files-grid" id="filesGrid">
                        <!-- –§–∞–π–ª—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-secondary" onclick="clearFiles()">
                            üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫
                        </button>
                    </div>
                </div>

                <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–¥–ª—è –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞) -->
                <div class="preview-section" id="previewSection" style="display: none;">
                    <h3>–ó–∞–≥—Ä—É–∂–µ–Ω–æ —Ñ–∞–π–ª–æ–≤: <span id="fileCount">0</span></h3>
                    <div class="preview-grid" id="previewGrid">
                        <!-- –ü—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </section>

            <!-- –í—ã–±–æ—Ä —Ñ–∏–ª—å—Ç—Ä–∞ -->
            <section class="filter-section" id="filterSection" style="display: none;">
                <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä</h2>
                
                <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å CPU/GPU -->
                <div class="processor-toggle">
                    <h3>–†–µ–∂–∏–º –æ–±—Ä–∞–±–æ—Ç–∫–∏</h3>
                    <div class="toggle-container">
                        <label class="toggle-label">
                            <input type="radio" name="processor" value="gpu" id="processorGPU" checked>
                            <span class="toggle-option">üöÄ GPU (CUDA)</span>
                        </label>
                        <label class="toggle-label">
                            <input type="radio" name="processor" value="cpu" id="processorCPU">
                            <span class="toggle-option">üíª CPU</span>
                        </label>
                    </div>
                    <p class="toggle-hint">–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</p>
                </div>
                
                <div class="filters-grid" id="filtersGrid">
                    <!-- –§–∏–ª—å—Ç—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>

                <!-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞ -->
                <div class="filter-params" id="filterParams" style="display: none;">
                    <!-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ -->
                <div class="action-buttons">
                    <button class="btn btn-success" id="processBtn" onclick="processImage()">
                        ‚ö° –û–±—Ä–∞–±–æ—Ç–∞—Ç—å
                    </button>
                    <button class="btn btn-secondary" onclick="resetForm()">
                        üîÑ –°–±—Ä–æ—Å–∏—Ç—å
                    </button>
                </div>
            </section>

            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç (–¥–ª—è –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞) -->
            <section class="result-section" id="resultSection" style="display: none;">
                <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏</h2>
                
                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">‚è±Ô∏è</div>
                        <div class="stat-value" id="execTime">-</div>
                        <div class="stat-label">–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-value" id="fileSize">-</div>
                        <div class="stat-label">–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üé®</div>
                        <div class="stat-value" id="filterUsed">-</div>
                        <div class="stat-label">–ü—Ä–∏–º–µ–Ω–µ–Ω —Ñ–∏–ª—å—Ç—Ä</div>
                    </div>
                </div>

                <!-- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ/–ø–æ—Å–ª–µ -->
                <div class="comparison">
                    <div class="comparison-item">
                        <h3>–î–æ</h3>
                        <img id="beforeImage" alt="Before">
                    </div>
                    <div class="comparison-item">
                        <h3>–ü–æ—Å–ª–µ</h3>
                        <img id="afterImage" alt="After">
                    </div>
                </div>
                
                <!-- –ì–∞–ª–µ—Ä–µ—è –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏) -->
                <div id="resultsGallery" style="display: none; margin-top: 30px;">
                    <h3>–í—Å–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</h3>
                    <div id="galleryGrid" class="gallery-grid">
                        <!-- –ì–∞–ª–µ—Ä–µ—è –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                <div class="action-buttons">
                    <button class="btn btn-primary" id="downloadBtn">
                        üíæ –°–∫–∞—á–∞—Ç—å
                    </button>
                    <button class="btn btn-success" id="downloadAllBtn" style="display: none;" onclick="downloadAllResults()">
                        üì¶ –°–∫–∞—á–∞—Ç—å –≤—Å–µ –≤ ZIP
                    </button>
                    <button class="btn btn-secondary" onclick="processAnother()">
                        üîÑ –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥—Ä—É–≥–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                    </button>
                </div>
                
                <!-- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ -->
                <div id="filesList" style="display: none; margin-top: 20px;">
                    <h3>–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:</h3>
                    <div id="filesListContent" class="files-list">
                        <!-- –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </section>

            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ -->
            <section class="batch-result-section" id="batchResultSection" style="display: none;">
                <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏</h2>
                
                <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ -->
                <div class="progress-section" id="progressSection">
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="progressBar" style="width: 0%"></div>
                    </div>
                    <p class="progress-text" id="progressText">–û–∂–∏–¥–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏...</p>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-value" id="batchSuccess">0</div>
                        <div class="stat-label">–£—Å–ø–µ—à–Ω–æ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚ùå</div>
                        <div class="stat-value" id="batchFailed">0</div>
                        <div class="stat-label">–û—à–∏–±–æ–∫</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚è±Ô∏è</div>
                        <div class="stat-value" id="batchTime">-</div>
                        <div class="stat-label">–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏</div>
                    </div>
                </div>

                <!-- –°–ø–∏—Å–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
                <div class="results-list" id="resultsList">
                    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>

                <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                <div class="action-buttons">
                    <button class="btn btn-primary" id="downloadAllBtn" onclick="downloadAllBatchResults()">
                        üì¶ –°–∫–∞—á–∞—Ç—å –∞—Ä—Ö–∏–≤
                    </button>
                    <button class="btn btn-secondary" onclick="processAnother()">
                        üîÑ –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã
                    </button>
                </div>
            </section>

            <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
            <div class="loading-overlay" id="loadingOverlay" style="display: none;">
                <div class="loading-spinner"></div>
                <p>–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É...</p>
            </div>
        </main>

        <!-- –§—É—Ç–µ—Ä -->
        <footer class="footer">
            <p>–°–∏—Ä–∏—É—Å 2025</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>


